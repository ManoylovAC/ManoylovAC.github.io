$(document).on("ready",function(){function e(){var e={$selfNode:t,isAnimDone:!1,findChild:function(n){return e.$selfNode.find(n)},animationPlay:function(){}};if(e.$selfNode.length){e.$hline=e.findChild(".js-hline"),e.$cline=e.findChild(".js-cline"),e.$fline=e.findChild(".js-fline"),e.$flinevignette=e.findChild(".js-vignette");var n=[[e.$hline],[e.$cline.get(0),e.$cline.get(1),[e.$cline.get(2),e.$cline.get(3)]],[e.$fline]],i=[[e.$hline],[e.$cline.get(0),e.$cline.get(1),e.$cline.get(2),e.$cline.get(3)],[e.$fline]],o=e.$hline.add(e.$cline).add(e.$fline),a=window.innerWidth>=1200?n:window.innerWidth>=768?i:o;e.tlAnim=new TimelineLite({paused:!0,onComplete:function(){o.css("transform","").removeClass("no-transition")}});window.innerWidth>=768?e.tlAnim.to(e.$flinevignette,1.95,{autoAlpha:1,ease:Power1.easeInOut},0).staggerFrom(a[0],1,{y:70,ease:Power3.easeOut},.35,1.5).staggerTo(a[0],.8,{autoAlpha:1,ease:Sine.easeIn},.35,1.6).staggerFrom(a[1],1,{y:90,ease:Power3.easeOut},.25,2).staggerTo(a[1],.68,{autoAlpha:1,ease:Sine.easeIn},.25,2.1).staggerFrom(a[2],1.2,{y:60,ease:Power3.easeOut},.35,3.1).staggerTo(a[2],1,{autoAlpha:1,ease:Sine.easeIn},.35,3.2):e.tlAnim.to(e.$flinevignette,1.95,{autoAlpha:1,ease:Power1.easeInOut},0).staggerFrom(a,1.1,{y:60,ease:Power3.easeOut},.25,1.5).staggerTo(a,.68,{autoAlpha:1,ease:Sine.easeIn},.25,1.6),e.animationPlay=function(){e.tlAnim.play()},e.animationPlay()}}function n(e){if(e.length)for(var n=0;n<e.length;++n){var i=$(e[n]),o=i.css("transform","").css("transform");o=o.slice(7,-1).split(" ").map(function(e){return parseInt(e)}),i.css("transform","matrix("+o.join(",")+")")}}var i=window.innerWidth,o=window.innerHeight,t=$(".js-ms-home"),a=$(".js-matrix"),l=$(".js-call-back"),s=$(".js-pops"),r=$(".js-pops-close");t.addClass("prep"),n(a),function(){var e=!0;TweenLite.defaultEase=Power1.easeInOut;var n=function(){var n=Math.random,t={1:null,2:null,3:null,4:null,5:null,6:null,7:null},a={1:.5*i,2:.1*i,3:.2*i,4:-400,5:-800,6:-200,7:0};for(var l in t)!function(l,s){return t[s]=function(){var r=i>=768?45*n()+30:100*n()+70,c=n()*-o/4+o/5,f=n()*-o/3-c,d=e?a[s]:-i/100*r-n()*i;(new TimelineMax).fromTo($(l),80*n()+41,{x:d,y:c,width:r+"%",opacity:.3*n()+.75},{x:1.7*i,y:f,opacity:.7*n()+.1,width:r+20*n()+"%",ease:Linear.easeNone,force3D:!0,onComplete:function(){t[s]()}})}}(".cloud"+l,l)(),l>=7&&(e=!1)},t=function(){n()};"complete"==document.readyState?t():$(window).load(t)}(),function(){var n={$selfNode:$(".js-preloader"),isAnimDone:!1,findChild:function(e){return n.$selfNode.find(e)},animationPlay:function(){}};n.$selfNode.length&&(n.$logo=n.findChild(".js-pre-logo"),n.$progress=n.findChild(".js-pre-progress"),n.$center=n.findChild(".js-pre-center"),n.tlAnim=new TimelineLite({paused:!0}),n.tlAnim.staggerFrom(n.$logo,1.2,{y:40,ease:Power2.easeOut},.15,.7).staggerTo(n.$logo,1,{autoAlpha:1,ease:Sine.easeIn},.15,.8).to(n.$progress,4.5,{width:"100%",ease:Power2.easeInOut},"+=0.2").to(n.$selfNode,.7,{autoAlpha:0,ease:Sine.easeIn,onComplete:function(){e()}},"+=0.2").to(n.$center,1.3,{y:40,ease:Power2.easeIn},"+=.3"),n.animationPlay=function(){n.tlAnim.play()},n.animationPlay())}(),l.click(function(){s.addClass("open")}),r.click(function(){s.removeClass("open")});var c=$(".js-callback-form:eq(0)").find("input");$(".js-callback-submit").click(function(){c.each(function(){this.validity.valid||$(this).closest(".form__group").addClass("has-error")})}),$(".form__control").on("click keydown",function(){$(this).closest(".form__group").removeClass("has-error")}),$(window).resize(function(e,n,i){var o,t;return n=n||250,function(){var a=i||this,l=+new Date,s=arguments;o&&l<o+n?(clearTimeout(t),t=setTimeout(function(){o=l,e.apply(a,s)},n)):(o=l,e.apply(a,s))}}(function(){n(a),i=window.innerWidth,o=window.innerHeight}))});